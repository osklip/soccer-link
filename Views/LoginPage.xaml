<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="SoccerLink.Views.LoginPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:helpers="using:SoccerLink.Helpers"
    mc:Ignorable="d">

    <Page.Resources>
        <helpers:BooleanToVisibilityConverter x:Key="BoolToVis" />
    </Page.Resources>

    <Grid Background="{StaticResource AppBackgroundBrush}">
        <Border Width="360" CornerRadius="16" Background="{StaticResource CardBackgroundBrush}" 
                BorderBrush="{StaticResource CardBorderBrush}" BorderThickness="1"
                HorizontalAlignment="Center" VerticalAlignment="Center" Padding="40">
            <StackPanel Spacing="20">

                <Image Source="/Assets/StoreLogo.png" Width="100" Height="100" Margin="0,0,0,10"/>

                <TextBlock Text="Zaloguj się" Style="{StaticResource HeaderTextStyle}" HorizontalAlignment="Center"/>

                <StackPanel Spacing="5">
                    <TextBlock Text="Email" Foreground="{StaticResource TextSecondaryBrush}"/>
                    <TextBox Text="{x:Bind ViewModel.Email, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" PlaceholderText="email@przyklad.com"/>
                </StackPanel>

                <StackPanel Spacing="5">
                    <TextBlock Text="Hasło" Foreground="{StaticResource TextSecondaryBrush}"/>
                    <PasswordBox x:Name="PasswordBox" PasswordChanged="PasswordBox_PasswordChanged" PlaceholderText="Hasło"/>
                </StackPanel>

                <TextBlock Text="{x:Bind ViewModel.ErrorMessage, Mode=OneWay}" 
                           Visibility="{x:Bind ViewModel.IsErrorVisible, Mode=OneWay, Converter={StaticResource BoolToVis}}"
                           Foreground="#E74C3C" FontSize="12" HorizontalAlignment="Center" TextWrapping="Wrap" TextAlignment="Center"/>

                <Button Command="{x:Bind ViewModel.LoginCommand}" Content="Zaloguj się" HorizontalAlignment="Stretch"
                        Background="{StaticResource TextAccentBrush}" Foreground="Black" FontWeight="Bold" CornerRadius="6" Margin="0,10,0,0"/>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="5">
                    <TextBlock Text="Nie masz konta?" Foreground="{StaticResource TextMutedBrush}"/>
                    <Button Command="{x:Bind ViewModel.GoToRegisterCommand}" Content="Zarejestruj się" 
                            Background="Transparent" BorderThickness="0" Foreground="{StaticResource TextPrimaryBrush}" Padding="0" Margin="0"/>
                </StackPanel>

            </StackPanel>
        </Border>
    </Grid>
</Page>